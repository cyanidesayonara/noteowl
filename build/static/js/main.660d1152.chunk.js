(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(59)},29:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(6),r=n.n(i),c=(n(29),n(3)),l=n(16),u=n(17),s=n(21),d=n(18),f=n(22),h=function(e){var t=e.filterValue,n=e.handleInputChange;return o.a.createElement("div",{className:"d-none"},o.a.createElement("input",{placeholder:"Filter notes",value:t,name:"filter",onChange:n(null)}))},m=n(7),v=n.n(m),p=n(19),g=n.n(p),E=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"notification"},t)},w=n(20),C=n.n(w),N=function(e){var t=e.date;return null===t?null:o.a.createElement(C.a,{date:t})},b=function(e){var t=e.note,n=e.handleRemove;return""!==t.author?null:o.a.createElement("button",{type:"button",onClick:n(t)},"Delete")},I=function(e){var t=e.note,n=e.handleRemove,a=e.handleDrag,i=e.saveNote,r=e.handleInputChange;return o.a.createElement(g.a,{cancel:".note form>*",position:t.position,bounds:"parent",onStop:i(t),onDrag:a(t)},o.a.createElement("div",{className:"note"},o.a.createElement(E,{message:t.notification}),o.a.createElement("form",{onSubmit:i(t)},o.a.createElement("h3",null,o.a.createElement(v.a,{onBlur:i(t),onResize:function(e){},value:t.title,name:"title",placeholder:"Title",onChange:r(t)}),o.a.createElement("span",{className:"border"})),o.a.createElement(N,{date:t.date}),o.a.createElement("p",null,o.a.createElement(v.a,{onBlur:i(t),onResize:function(e){},value:t.content,name:"content",placeholder:"Add text here",onChange:r(t)}),o.a.createElement("span",{className:"border"})),o.a.createElement(b,{note:t,handleRemove:n}))))},S=function(e){var t=e.notes,n=e.handleRemove,a=e.handleDrag,i=e.saveNote,r=e.handleInputChange;return o.a.createElement("div",{id:"notes"},t.map(function(e){return o.a.createElement(I,{key:e.id,note:e,handleRemove:n,handleDrag:a,saveNote:i,handleInputChange:r})}))},O=n(4),j=n.n(O),D={getAll:function(){return j.a.get("/notes").then(function(e){return e.data})},create:function(e){return j.a.post("/notes",e).then(function(e){return e.data})},update:function(e){return j.a.put("".concat("/notes","/").concat(e.id),e).then(function(e){return e.data})},remove:function(e){return j.a.delete("".concat("/notes","/").concat(e.id)).then(function(e){return e.data})}},R=n(8),k=n.n(R),y=n(9),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).hideNotification=function(e){setTimeout(function(){var t=n.state.notes.findIndex(function(t){return t.id===e.id});if(t>=0){var a=k()(n.state.notes,Object(c.a)({},t,Object(c.a)({},"notification",{$set:null})));n.setState({notes:a})}},3e3)},n.login=function(e){e.preventDefault()},n.newNote=function(){if(!n.state.notes.find(function(e){return 0===e.id})){n.setState({notes:n.state.notes.concat({id:0,title:"",content:"",created:null,updated:null,important:!1,notification:null,position:{x:0,y:0}})})}},n.saveNote=function(e){return function(){e.author||e.title&&e.content&&(0===e.id?D.create(e).then(function(e){e.notification="Note saved";var t=n.state.notes.filter(function(e){return 0!==e.id});n.setState({notes:t.concat(e)}),n.hideNotification(e)}).catch(function(e){console.log(e)}):D.update(e).then(function(e){e.notification="Note saved";var t=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:t.concat(e)}),n.hideNotification(e)}).catch(function(e){console.log(e)}))}},n.handleRemove=function(e){return function(){if(!e.author&&window.confirm("Are you sure you want to remove this note?"))if(0===e.id){var t=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:t})}else D.remove(e).then(function(t){var a=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:a})}).catch(function(t){console.log(t);var a=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:a})})}},n.handleDrag=function(e){return function(t,a){var o=n.state.notes.filter(function(t){return t.id!==e.id});e.position||(e.position={x:0,y:0}),e.position={x:+e.position.x+ +a.deltaX.toFixed(0),y:+e.position.y+ +a.deltaY.toFixed(0)},n.setState({notes:o.concat(e)})}},n.handleInputChange=function(e){return function(t){var a=t.target.value,o=t.target.name;if(e){var i=n.state.notes.findIndex(function(t){return t.id===e.id}),r=k()(n.state.notes,Object(c.a)({},i,Object(c.a)({},o,{$set:a})));n.setState({notes:r})}else n.setState(Object(c.a)({},o,a))}},n.state={notes:[],filter:"",username:"",password:"",user:null},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="NoteOwl",D.getAll().then(function(t){e.setState({notes:t})}),y.a.initialize("UA-120584024-4"),y.a.pageview("/")}},{key:"render",value:function(){var e=this,t=this.state.notes.filter(function(t){return t.title.toLowerCase().includes(e.state.filter.toLowerCase())||t.content.toLowerCase().includes(e.state.filter.toLowerCase())});return o.a.createElement("div",{id:"content"},o.a.createElement("nav",null,o.a.createElement("h1",null,"Noteowl"),o.a.createElement("button",{onClick:this.newNote},"Add New Note"),o.a.createElement(h,{filterValue:this.state.filter,handleInputChange:this.handleInputChange}),o.a.createElement("form",{onSubmit:this.login},o.a.createElement("input",{type:"text",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleInputChange(null)}),o.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange(null)}),o.a.createElement("button",{type:"submit"},"Login"))),o.a.createElement(S,{notes:t,handleRemove:this.handleRemove,handleDrag:this.handleDrag,saveNote:this.saveNote,handleInputChange:this.handleInputChange}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.660d1152.chunk.js.map