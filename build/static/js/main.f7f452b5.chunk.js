(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(t,e,n){t.exports=n(59)},29:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(7),r=n.n(i),c=(n(29),n(2)),s=n(16),u=n(17),l=n(21),d=n(18),f=n(22),h=n(8),m=n.n(h),v=n(19),g=n.n(v),p=function(t){var e=t.message;return null===e?null:o.a.createElement("div",{className:"notification"},e)},w=n(20),E=n.n(w),b=function(t){var e=t.note,n=t.handleRemove,a=t.handleDrag,i=t.saveNote,r=t.handleInputChange;return console.log(e.position),o.a.createElement(g.a,{position:e.position,cancel:"form>*",bounds:"parent",onStop:i(e),onDrag:a(e)},o.a.createElement("div",{className:"note"},o.a.createElement(p,{message:e.notification}),o.a.createElement("form",{onSubmit:i(e)},o.a.createElement("h3",null,o.a.createElement(m.a,{onBlur:i(e),onResize:function(t){},value:e.title,placeholder:"Title",onChange:r("title",e)}),o.a.createElement("span",{className:"border"})),e.date&&o.a.createElement(E.a,{date:e.date,interval:0,format:"dddd DD MMM YYYY HH:MM"}),o.a.createElement("p",null,o.a.createElement(m.a,{onBlur:i(e),onResize:function(t){},value:e.content,placeholder:"Add text here",onChange:r("content",e)}),o.a.createElement("span",{className:"border"})),o.a.createElement("button",{type:"button",onClick:n(e)},"Delete"))))},N=function(t){var e=t.notes,n=t.handleRemove,a=t.handleDrag,i=t.saveNote,r=t.handleInputChange;return o.a.createElement("div",{id:"notes"},e.map(function(t){return o.a.createElement(b,{key:t.id,note:t,handleRemove:n,handleDrag:a,saveNote:i,handleInputChange:r})}))},C=n(4),O=n.n(C),j={getAll:function(){return O.a.get("/notes").then(function(t){return t.data})},create:function(t){return O.a.post("/notes",t).then(function(t){return t.data})},update:function(t,e){return O.a.put("".concat("/notes","/").concat(t),e).then(function(t){return t.data})},remove:function(t){return O.a.delete("".concat("/notes","/").concat(t)).then(function(t){return t.data})}},S=n(5),D=n.n(S),I=n(9),k=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).newNote=function(){if(!n.state.notes.find(function(t){return 0===t.id})){n.setState({notes:[{id:0,title:"",author:"",content:"",date:null,important:!1,notification:null,position:{x:0,y:0}}].concat(n.state.notes)})}},n.saveNote=function(t){return function(){t.author||(t.title&&t.content&&(0===t.id?j.create(t).then(function(t){t.notification="Note saved";var e=n.state.notes.filter(function(t){return 0!==t.id});e=[t].concat(e),n.setState({notes:e})}).catch(function(t){console.log(t)}):j.update(t.id,t).then(function(t){t.notification="Note saved";var e=n.state.notes.findIndex(function(e){return e.id===t.id}),a=D()(n.state.notes,Object(c.a)({},e,{$set:t}));n.setState({notes:a})}).catch(function(t){console.log(t)})),setTimeout(function(){var e=n.state.notes.findIndex(function(e){return e.id===t.id}),a=D()(n.state.notes,Object(c.a)({},e,Object(c.a)({},"notification",{$set:null})));n.setState({notes:a})},3e3))}},n.handleRemove=function(t){return function(){t.author||window.confirm("Are you sure you want to remove this note?")&&j.remove(t.id).then(function(e){var a=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:a})}).catch(function(e){console.log(e);var a=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:a})})}},n.handleDrag=function(t){return function(e,a){var o=n.state.notes.findIndex(function(e){return e.id===t.id}),i=0,r=0;n.state.notes[o].position&&(i=n.state.notes[o].position.x,r=n.state.notes[o].position.y);var s=D()(n.state.notes,Object(c.a)({},o,Object(c.a)({},"position",{$set:{x:i+a.deltaX,y:r+a.deltaY}})));n.setState({notes:s})}},n.handleInputChange=function(t,e){return function(a){var o=a.target.value;if(e){var i=n.state.notes.findIndex(function(t){return t.id===e.id}),r=D()(n.state.notes,Object(c.a)({},i,Object(c.a)({},t,{$set:o})));n.setState({notes:r})}else n.setState(Object(c.a)({},t,o))}},n.state={notes:[],filter:""},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;document.title="NoteOwl",j.getAll().then(function(e){t.setState({notes:e})}),I.a.initialize("UA-120584024-4"),I.a.pageview("/")}},{key:"render",value:function(){var t=this,e=this.state.notes.filter(function(e){return e.title.toLowerCase().includes(t.state.filter.toLowerCase())||e.author.toLowerCase().includes(t.state.filter.toLowerCase())||e.content.toLowerCase().includes(t.state.filter.toLowerCase())});return o.a.createElement("div",{id:"content"},o.a.createElement("nav",null,o.a.createElement("h1",null,"Noteowl"),o.a.createElement("button",{onClick:this.newNote},"Add New Note")),o.a.createElement(N,{notes:e,handleRemove:this.handleRemove,handleDrag:this.handleDrag,saveNote:this.saveNote,handleInputChange:this.handleInputChange}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.f7f452b5.chunk.js.map