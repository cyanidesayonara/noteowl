(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(t,e,n){t.exports=n(55)},26:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(5),c=n.n(i),r=(n(26),n(2)),s=n(14),u=n(15),l=n(18),d=n(16),f=n(19),m=n(6),v=n.n(m),h=n(17),g=n.n(h),w=function(t){var e=t.message;return console.log(void 0===e),console.log(e),void 0===e?null:a.a.createElement("div",{className:"error"},e)},E=function(t){var e=t.note,n=t.handleRemove,o=t.saveNote,i=t.handleInputChange;t.position;return a.a.createElement(g.a,{cancel:"form>*",bounds:"parent",onStop:o(e)},a.a.createElement("div",{className:"note"},a.a.createElement(w,{message:e.notification}),a.a.createElement("form",{onSubmit:o(e)},a.a.createElement("h3",null,a.a.createElement(v.a,{onBlur:o(e),onResize:function(t){},value:e.title,placeholder:"Title",onChange:i("title",e)}),a.a.createElement("span",{className:"border"})),a.a.createElement("p",null,a.a.createElement(v.a,{onBlur:o(e),onResize:function(t){},value:e.content,placeholder:"Add text here",onChange:i("content",e)}),a.a.createElement("span",{className:"border"})),a.a.createElement("button",{type:"submit"},"Save"),a.a.createElement("button",{type:"button",onClick:n(e)},"Delete"))))},p=function(t){var e=t.notes,n=t.handleRemove,o=t.saveNote,i=t.handleInputChange;return a.a.createElement("div",{id:"notes"},e.map(function(t){return a.a.createElement(E,{key:t.id,note:t,handleRemove:n,saveNote:o,handleInputChange:i})}))},b=n(3),N=n.n(b),C={getAll:function(){return N.a.get("/notes").then(function(t){return t.data})},create:function(t){return N.a.post("/notes",t).then(function(t){return t.data})},update:function(t,e){return N.a.put("".concat("/notes","/").concat(t),e).then(function(t){return t.data})},remove:function(t){return N.a.delete("".concat("/notes","/").concat(t)).then(function(t){return t.data})}},S=n(7),O=n.n(S),j=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).newNote=function(){if(!n.state.notes.find(function(t){return 0===t.id})){n.setState({notes:[{id:0,title:"",author:"",content:"",date:"",important:!1}].concat(n.state.notes)})}},n.saveNote=function(t){return function(e){e.preventDefault(),0===t.id?C.create(t).then(function(t){var e=n.state.notes.filter(function(t){return 0!==t.id});e=[t].concat(e);var o=n.state.notifications;o[t.id]="Note saved",n.setState({notes:e,notifications:o}),console.log(o),setTimeout(function(){var e=n.state.notifications;delete e[t.id],n.setState({notifications:e})},3e3)}).catch(function(t){console.log(t)}):C.update(t.id,t).then(function(t){var e=n.state.notifications;e[t.id]="Note saved";var o=n.state.notes.findIndex(function(e){return e.id===t.id}),a=O()(n.state.notes,Object(r.a)({},o,{$set:t}));n.setState({notes:a,notifications:e}),console.log(n.state.notifications),setTimeout(function(){var e=n.state.notifications;delete e[t.id],n.setState({notifications:e})},3e3)}).catch(function(t){console.log(t)})}},n.handleRemove=function(t){return function(){window.confirm("Are you sure you want to remove this note?")&&C.remove(t.id).then(function(e){var o=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:o}),setTimeout(function(){n.setState({notification:null})},3e3)}).catch(function(e){console.log(e);var o=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:o}),setTimeout(function(){n.setState({notification:null})},3e3)})}},n.handleInputChange=function(t,e){return function(o){var a=o.target.value;if(e){var i=n.state.notes.findIndex(function(t){return t.id===e.id}),c=O()(n.state,{notes:Object(r.a)({},i,Object(r.a)({},t,{$set:a}))});n.setState(c)}else n.setState(Object(r.a)({},t,a))}},n.state={notes:[],filter:"",notifications:{}},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;document.title="NoteOwl",C.getAll().then(function(e){t.setState({notes:e})})}},{key:"render",value:function(){var t=this,e=this.state.notes.filter(function(e){return e.title.toLowerCase().includes(t.state.filter.toLowerCase())||e.author.toLowerCase().includes(t.state.filter.toLowerCase())||e.content.toLowerCase().includes(t.state.filter.toLowerCase())});return a.a.createElement("div",{id:"content"},a.a.createElement("nav",null,a.a.createElement("h1",null,"Noteowl"),a.a.createElement("button",{onClick:this.newNote},"Add New Note")),a.a.createElement(p,{notes:e,handleRemove:this.handleRemove,saveNote:this.saveNote,handleInputChange:this.handleInputChange}))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.4ffbdb74.chunk.js.map