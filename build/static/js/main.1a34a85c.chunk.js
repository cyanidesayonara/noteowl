(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(59)},29:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(6),r=n.n(i),c=(n(29),n(3)),l=n(16),u=n(17),s=n(21),d=n(18),f=n(22),h=function(e){var t=e.filterValue,n=e.handleFilterChange;return o.a.createElement("div",{className:"d-none"},o.a.createElement("input",{placeholder:"Filter notes",value:t,onChange:n}))},m=n(7),v=n.n(m),g=n(19),p=n.n(g),w=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"notification"},t)},E=n(20),N=n.n(E),C=function(e){var t=e.date;return null===t?null:o.a.createElement(N.a,{date:t})},b=function(e){var t=e.note,n=e.handleRemove;return""!==t.author?null:o.a.createElement("button",{type:"button",onClick:n(t)},"Delete")},S=function(e){var t=e.note,n=e.handleRemove,a=e.handleDrag,i=e.saveNote,r=e.handleInputChange;return o.a.createElement(p.a,{cancel:".note form>*",position:t.position,bounds:"parent",onStop:i(t),onDrag:a(t)},o.a.createElement("div",{className:"note"},o.a.createElement(w,{message:t.notification}),o.a.createElement("form",{onSubmit:i(t)},o.a.createElement("h3",null,o.a.createElement(v.a,{onBlur:i(t),onResize:function(e){},value:t.title,placeholder:"Title",onChange:r("title",t)}),o.a.createElement("span",{className:"border"})),o.a.createElement(C,{date:t.date}),o.a.createElement("p",null,o.a.createElement(v.a,{onBlur:i(t),onResize:function(e){},value:t.content,placeholder:"Add text here",onChange:r("content",t)}),o.a.createElement("span",{className:"border"})),o.a.createElement(b,{note:t,handleRemove:n}))))},O=function(e){var t=e.notes,n=e.handleRemove,a=e.handleDrag,i=e.saveNote,r=e.handleInputChange;return o.a.createElement("div",{id:"notes"},t.map(function(e){return o.a.createElement(S,{key:e.id,note:e,handleRemove:n,handleDrag:a,saveNote:i,handleInputChange:r})}))},j=n(4),I=n.n(j),R={getAll:function(){return I.a.get("/notes").then(function(e){return e.data})},create:function(e){return I.a.post("/notes",e).then(function(e){return e.data})},update:function(e){return I.a.put("".concat("/notes","/").concat(e.id),e).then(function(e){return e.data})},remove:function(e){return I.a.delete("".concat("/notes","/").concat(e.id)).then(function(e){return e.data})}},k=n(8),D=n.n(k),x=n(9),y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).hideNotification=function(e){setTimeout(function(){var t=n.state.notes.findIndex(function(t){return t.id===e.id});if(t>=0){var a=D()(n.state.notes,Object(c.a)({},t,Object(c.a)({},"notification",{$set:null})));n.setState({notes:a})}},3e3)},n.newNote=function(){if(!n.state.notes.find(function(e){return 0===e.id})){n.setState({notes:n.state.notes.concat({id:0,title:"",author:"",content:"",date:null,important:!1,notification:null,position:{x:0,y:0}})})}},n.saveNote=function(e){return function(){e.author||e.title&&e.content&&(0===e.id?R.create(e).then(function(e){e.notification="Note saved";var t=n.state.notes.filter(function(e){return 0!==e.id});n.setState({notes:t.concat(e)}),n.hideNotification(e)}).catch(function(e){console.log(e)}):R.update(e).then(function(e){e.notification="Note saved";var t=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:t.concat(e)}),n.hideNotification(e)}).catch(function(e){console.log(e)}))}},n.handleRemove=function(e){return function(){if(!e.author&&window.confirm("Are you sure you want to remove this note?"))if(0===e.id){var t=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:t})}else R.remove(e).then(function(t){var a=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:a})}).catch(function(t){console.log(t);var a=n.state.notes.filter(function(t){return t.id!==e.id});n.setState({notes:a})})}},n.handleDrag=function(e){return function(t,a){var o=n.state.notes.filter(function(t){return t.id!==e.id});e.position||(e.position={x:0,y:0}),e.position={x:+e.position.x+ +a.deltaX.toFixed(0),y:+e.position.y+ +a.deltaY.toFixed(0)},n.setState({notes:o.concat(e)})}},n.handleInputChange=function(e,t){return function(a){var o=a.target.value;if(t){var i=n.state.notes.findIndex(function(e){return e.id===t.id}),r=D()(n.state.notes,Object(c.a)({},i,Object(c.a)({},e,{$set:o})));n.setState({notes:r})}else n.setState(Object(c.a)({},e,o))}},n.state={notes:[],filter:""},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="NoteOwl",R.getAll().then(function(t){e.setState({notes:t})}),x.a.initialize("UA-120584024-4"),x.a.pageview("/")}},{key:"render",value:function(){var e=this,t=this.state.notes.filter(function(t){return t.title.toLowerCase().includes(e.state.filter.toLowerCase())||t.author.toLowerCase().includes(e.state.filter.toLowerCase())||t.content.toLowerCase().includes(e.state.filter.toLowerCase())});return o.a.createElement("div",{id:"content"},o.a.createElement("nav",null,o.a.createElement("h1",null,"Noteowl"),o.a.createElement("button",{onClick:this.newNote},"Add New Note"),o.a.createElement(h,{filterValue:this.state.filter,handleFilterChange:this.handleInputChange("filter",void 0)})),o.a.createElement(O,{notes:t,handleRemove:this.handleRemove,handleDrag:this.handleDrag,saveNote:this.saveNote,handleInputChange:this.handleInputChange}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.1a34a85c.chunk.js.map