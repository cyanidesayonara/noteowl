(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(t,e,n){t.exports=n(59)},29:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(7),i=n.n(c),u=(n(29),n(2)),l=n(16),r=n(17),s=n(21),f=n(18),m=n(22),d=n(8),v=n.n(d),h=n(19),w=n.n(h),E=function(t){var e=t.message;return null===e?null:o.a.createElement("div",{className:"notification"},e)},g=n(20),b=n.n(g),C=function(t){var e=t.note,n=t.handleRemove,a=t.saveNote,c=t.handleInputChange;return o.a.createElement(w.a,{cancel:"form>*",bounds:"parent",onStop:a(e)},o.a.createElement("div",{className:"note"},o.a.createElement(E,{message:e.notification}),o.a.createElement("form",{onSubmit:a(e)},o.a.createElement("h3",null,o.a.createElement(v.a,{onBlur:a(e),onResize:function(t){},value:e.title,placeholder:"Title",onChange:c("title",e)}),o.a.createElement("span",{className:"border"})),e.date&&o.a.createElement(b.a,{interval:0,format:"dddd DD MMM YYYY HH:MM"},e.date),o.a.createElement("p",null,o.a.createElement(v.a,{onBlur:a(e),onResize:function(t){},value:e.content,placeholder:"Add text here",onChange:c("content",e)}),o.a.createElement("span",{className:"border"})),o.a.createElement("button",{type:"submit"},"Save"),o.a.createElement("button",{type:"button",onClick:n(e)},"Delete"))))},O=function(t){var e=t.notes,n=t.handleRemove,a=t.saveNote,c=t.handleInputChange;return o.a.createElement("div",{id:"notes"},e.map(function(t){return o.a.createElement(C,{key:t.id,note:t,handleRemove:n,saveNote:a,handleInputChange:c})}))},j=n(4),S=n.n(j),I={getAll:function(){return S.a.get("/notes").then(function(t){return t.data})},create:function(t){return S.a.post("/notes",t).then(function(t){return t.data})},update:function(t,e){return S.a.put("".concat("/notes","/").concat(t),e).then(function(t){return t.data})},remove:function(t){return S.a.delete("".concat("/notes","/").concat(t)).then(function(t){return t.data})}},p=n(5),k=n.n(p),R=n(9),A=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(f.a)(e).call(this,t))).newNote=function(){if(!n.state.notes.find(function(t){return 0===t.id})){n.setState({notes:[{id:0,title:"",author:"",content:"",date:null,important:!1,notification:null}].concat(n.state.notes)})}},n.saveNote=function(t){return function(e){if(e.preventDefault(),t.title&&t.content)0===t.id?I.create(t).then(function(t){t.notification="Note saved";var e=n.state.notes.filter(function(t){return 0!==t.id});e=[t].concat(e),n.setState({notes:e})}).catch(function(t){console.log(t)}):I.update(t.id,t).then(function(t){t.notification="Note saved";var e=n.state.notes.findIndex(function(e){return e.id===t.id}),a=k()(n.state.notes,Object(u.a)({},e,{$set:t}));n.setState({notes:a})}).catch(function(t){console.log(t)});else if("submit"===e.type){var a=n.state.notes.findIndex(function(e){return e.id===t.id}),o=k()(n.state.notes,Object(u.a)({},a,Object(u.a)({},"notification",{$set:"Note must have a title and text"})));n.setState({notes:o})}setTimeout(function(){var e=n.state.notes.findIndex(function(e){return e.id===t.id}),a=k()(n.state.notes,Object(u.a)({},e,Object(u.a)({},"notification",{$set:null})));n.setState({notes:a})},3e3)}},n.handleRemove=function(t){return function(){window.confirm("Are you sure you want to remove this note?")&&I.remove(t.id).then(function(e){var a=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:a})}).catch(function(e){console.log(e);var a=n.state.notes.filter(function(e){return e.id!==t.id});n.setState({notes:a})})}},n.handleInputChange=function(t,e){return function(a){var o=a.target.value;if(e){var c=n.state.notes.findIndex(function(t){return t.id===e.id}),i=k()(n.state.notes,Object(u.a)({},c,Object(u.a)({},t,{$set:o})));n.setState({notes:i})}else n.setState(Object(u.a)({},t,o))}},n.state={notes:[],filter:""},n}return Object(m.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this;document.title="NoteOwl",I.getAll().then(function(e){t.setState({notes:e})}),R.a.initialize("UA-123791717-1"),R.a.pageview("/")}},{key:"render",value:function(){var t=this,e=this.state.notes.filter(function(e){return e.title.toLowerCase().includes(t.state.filter.toLowerCase())||e.author.toLowerCase().includes(t.state.filter.toLowerCase())||e.content.toLowerCase().includes(t.state.filter.toLowerCase())});return o.a.createElement("div",{id:"content"},o.a.createElement("nav",null,o.a.createElement("h1",null,"Noteowl"),o.a.createElement("button",{onClick:this.newNote},"Add New Note")),o.a.createElement(O,{notes:e,handleRemove:this.handleRemove,saveNote:this.saveNote,handleInputChange:this.handleInputChange}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.a6e2ba9d.chunk.js.map